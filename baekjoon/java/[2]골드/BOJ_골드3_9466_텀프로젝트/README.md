# BOJ 골드3 9466 텀 프로젝트

<br>

### 풀이 요약

- 풀이 시간 : 측정 X (시간초과 해결 과정에서 블참)
- 풀이 방법 : DFS
- 메모리 : 304064KB, 시간 : 1088ms

<br>

### 풀이 방법

프로젝트 팀을 구성하기 위해, 모든 학생은 프로젝트를 함께하고 싶은 학생을 선택해야 한다.
학생들이(s1, s2, ..., sr)이라 할 때, r=1이고 s1이 s1을 선택하는 경우나, s1이 s2를 선택하고, s2가 s3를 선택하고,..., sr-1이 sr을 선택하고, sr이 s1을 선택하는 경우에만 한 팀이 될 수 있다.

이 때, 주어진 선택 결과를 보고 어느 프로젝트 팀에도 속하지 않는 학생들의 수를 계산하는 프로그램이다.

<br>

문제를 읽고 사이클을 이루지 못하는 학생의 수를 구하면 되는 구나.. 라고 생각은 됐는데 계속해서 시간 초과 문제가 떴다 .. 😢 

처음에 하나 씩 방문하며 사이클을 이루는 지 확인했었는데, 이 과정에서 이전에 사이클을 이룬 수도 다시 검사를 하게 되니까 시간초과가 뜬 것 같았다. (80% 시간초과 발생)

그래서 이전에 검사를 완료한 수는 다시 검사하지 않도록 처리를 해주었다. 

<br>

1. TC 입력 
2. n과 arr 입력 
3. 방문 배열과 검사한 것 확인하는 배열 생성 
4. i를 1부터 n까지 반복하며 팀을 이룰 수 있는 지 확인한다. (DFS)
    1. 이전에 이미 검사했는 지 확인한다. 만약 했다면 return (더 이상 볼 필요 없음)
    2. 방문했는 지 확인한다. 방문을 했었다면 사이클 구성원이라는 뜻이므로 검사 여부를 true 하고, ans 값을 증가한다.
    3. 그 다음 방문처리를 해주기 위해 visited[idx] = true; 하고 다음 노드(?)로 타고 들어가서 사이클을 이루는 지 계속해서 확인한다. 
    4. 원하는 팀원이 이미 검사가 되었다면 return 하여 자신을 검사 완료 체크하고 방문 처리를 해제한다. 
    
    ```java
    static void DFS(int idx) {
    	if(teamComplete[idx]) return;
    	if(visited[idx]) {
    		teamComplete[idx] = true;
    		ans++;
    	}
    
    	visited[idx] = true;
    	DFS(arr[idx]);
    	// return 해서 돌아오는 곳
    	teamComplete[idx] = true;
    	visited[idx] = false;
    }
    ```
    
5. DFS를 다 돌고 나서 n-ans를 하여 어느 프로젝트 팀에도 속하지 않는 학생의 수를 계산하고, TC가 다 끝났다면 테스트의 모든 경우를 모아서 출력한다. 

<br>

### 참고

https://yeeybook.tistory.com/147
